
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Bothub SDK 使用示例 - UAT</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <script src="env.js"></script>
  </head>
  <body>
    <section>
      <h1>Bothub SDK 使用示例</h1>
      <p>
        SDK提供了将商品加入购物车、愿望清单、下订单等事件，并且可以根据事件推送消息。
        <a href="https://docs.bothub.ai/audience/sdk-integration.html" target="_blank">查看文档</a>
      </p>
    </section>

    <!-- 加载 Checkbox Plugin -->
    <div id="bothub-messenger-checkbox" prechecked="true" size="small"></div>
        
    <section>
      <h3>标准事件</h3>
      <button onclick="BOTHUB.Marketing.logAddedToCartEvent('1', 'T-shirt', 'USD', 26.99)">加入购物车</button>
      <button onclick="BOTHUB.Marketing.logAddedToWishlistEvent('1', 'backpack', 'CNY', 599)">添加愿望单</button>
      <button onclick="BOTHUB.Marketing.logInitiatedCheckoutEvent('1', 'music', 5, true, 'USD', 6)">商品支付</button>
    </section>
    <section>
      <h3>自定义事件</h3>
      <p>我们创建一个名为“预约面试”的自定义事件：</p>
      <button onclick="BOTHUB.Marketing.logEvent('scheduled_interview', null, {user_id: 1})">预约面试</button>
    </section>
    <section>
      <h3>定时通知事件</h3>
      <p>通知事件是自定义事件的一个特殊用法，需要在第三个参数传递通知时间戳。</p>
      <button onclick="BOTHUB.Marketing.logEvent('scheduled_interview', null, { trigger_time: Date.parse(new Date())/1000 })">面试通知</button>
    </section>
    <section>
      <h3>定时事件示例 vipkid</h3>
      <div class="row">
        <select name="timezone" id="timezone">
          <option value="America/Adak">America/Adak</option>
          <option value="America/Anchorage">America/Anchorage</option>
          <option value="America/Los_Angeles">America/Los_Angeles</option>
          <option value="America/Phoenix">America/Phoenix</option>
          <option value="America/Denver">America/Denver</option>
          <option value="America/Guatemala">America/Guatemala</option>
          <option value="America/Chicago">America/Chicago</option>
          <option value="America/Bogota">America/Bogota</option>
          <option value="America/New_York">America/New_York</option>
          <option value="America/Caracas">America/Caracas</option>
          <option value="America/Halifax">America/Halifax</option>
          <option value="America/Santo_Domingo">America/Santo_Domingo</option>
          <option value="America/Santiago">America/Santiago</option>
          <option value="America/St_Johns">America/St_Johns</option>
          <option value="America/Godthab">America/Godthab</option>
          <option value="America/Argentina/Buenos_Aires">America/Argentina/Buenos_Aires</option>
          <option value="America/Montevideo">America/Montevideo</option>
          <option value="America/Noronha">America/Noronha</option>
          <option value="America/Mexico_City">America/Mexico_City</option>
          <option value="Atlantic/Azores">Atlantic/Azores</option>
          <option value="Atlantic/Cape_Verde">Atlantic/Cape_Verde</option>
          <option value="Africa/Lagos">Africa/Lagos</option>
          <option value="Africa/Windhoek">Africa/Windhoek</option>
          <option value="Africa/Johannesburg">Africa/Johannesburg</option>
          <option value="Asia/Baghdad">Asia/Baghdad</option>
          <option value="Asia/Beirut">Asia/Beirut</option>
          <option value="Asia/Tehran">Asia/Tehran</option>
          <option value="Asia/Dubai">Asia/Dubai</option>
          <option value="Asia/Baku">Asia/Baku</option>
          <option value="Asia/Kabul">Asia/Kabul</option>
          <option value="Asia/Yekaterinburg">Asia/Yekaterinburg</option>
          <option value="Asia/Karachi">Asia/Karachi</option>
          <option value="Asia/Kolkata">Asia/Kolkata</option>
          <option value="Asia/Kathmandu">Asia/Kathmandu</option>
          <option value="Asia/Dhaka">Asia/Dhaka</option>
          <option value="Asia/Omsk">Asia/Omsk</option>
          <option value="Asia/Rangoon">Asia/Rangoon</option>
          <option value="Asia/Krasnoyarsk">Asia/Krasnoyarsk</option>
          <option value="Asia/Jakarta">Asia/Jakarta</option>
          <option value="Asia/Shanghai" selected>Asia/Shanghai</option>
          <option value="Asia/Irkutsk">Asia/Irkutsk</option>
          <option value="Asia/Yakutsk">Asia/Yakutsk</option>
          <option value="Asia/Tokyo">Asia/Tokyo</option>
          <option value="Asia/Kamchatka">Asia/Kamchatka</option>
          <option value="Asia/Bangkok">Asia/Bangkok</option>
          <option value="Asia/Amman">Asia/Amman</option>
          <option value="Asia/Vladivostok">Asia/Vladivostok</option>
          <option value="Australia/Sydney">Australia/Sydney</option>
          <option value="Australia/Lord_Howe">Australia/Lord_Howe</option>
          <option value="Australia/Darwin">Australia/Darwin</option>
          <option value="Australia/Adelaide">Australia/Adelaide</option>
          <option value="Australia/Brisbane">Australia/Brisbane</option>
          <option value="Australia/Eucla">Australia/Eucla</option>
          <option value="Australia/Perth">Australia/Perth</option>
          <option value="Europe/Rome">Europe/Rome</option>
          <option value="Europe/Paris">Europe/Paris</option>
          <option value="Europe/Moscow">Europe/Moscow</option>
          <option value="Europe/London">Europe/London</option>
          <option value="Europe/Berlin">Europe/Berlin</option>
          <option value="Pacific/Noumea">Pacific/Noumea</option>
          <option value="Pacific/Norfolk">Pacific/Norfolk</option>
          <option value="Pacific/Auckland">Pacific/Auckland</option>
          <option value="Pacific/Majuro">Pacific/Majuro</option>
          <option value="Pacific/Chatham">Pacific/Chatham</option>
          <option value="Pacific/Tongatapu">Pacific/Tongatapu</option>
          <option value="Pacific/Kiritimati">Pacific/Kiritimati</option>
          <option value="Pacific/Pago_Pago">Pacific/Pago_Pago</option>
          <option value="Pacific/Apia">Pacific/Apia</option>
          <option value="Pacific/Easter">Pacific/Easter</option>
          <option value="Pacific/Honolulu">Pacific/Honolulu</option>
          <option value="Pacific/Marquesas">Pacific/Marquesas</option>
          <option value="Pacific/Gambier">Pacific/Gambier</option>
          <option value="Pacific/Pitcairn">Pacific/Pitcairn</option>
          <option value="US/Hawaii">US/Hawaii</option>
          <option value="US/Pacific">US/Pacific</option>
          <option value="US/Central">US/Central</option>
          <option value="US/Eastern">US/Eastern</option>
          <option value="US/Alaska">US/Alaska</option>
          <option value="US/Mountain">US/Mountain</option>
          <option value="EET">EET</option>
          <option value="UTC">UTC</option>
        </select>
        <input type="text" id="datetime" name="datetime" value="Today @ 17:30 PM">
        <input type="text" id="reminder" name="reminder" value="3 Minutes Before">
      </div>
      <div class="row">
        <button id="have_scheduled_interview" value="have_scheduled_interview">定时通知</button>
      </div>
    </section>

    <!-- 在body最底部加入sdk代码 -->
    <script>
      window.BOTHUB = {
        facebook_page_id: $ENV.facebook_page_id,
        messenger_app_id: $ENV.messenger_app_id,
        debug: $ENV.debug,
      };
      (function(s,id,l){s.id=id;s.src=l;window[id]||document.body.appendChild(s)})
      (document.createElement('script'),'bothub-sdk','./bothub.js');
    </script>

    <!-- 定时通知事件 -->
    <script>
      document.getElementById('have_scheduled_interview').onclick = function() {
        var already_book_timezone = document.getElementById('timezone').value;
        var already_book_datetime = document.getElementById('datetime').value;
        var reminder = document.getElementById('reminder').value;
        BOTHUB.Marketing.logEvent('have_scheduled_interview', 0, {'trigger_time': 'timezone=' + already_book_timezone + '; datetime=' + already_book_datetime + '; reminder=' + reminder});
      }
    </script>
  </body>
</html>
